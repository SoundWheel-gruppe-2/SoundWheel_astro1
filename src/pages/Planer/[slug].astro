---
import Card5 from "../../components/Card5.astro";

export async function getStaticPaths() {
  const url = "https://qlehotdtjubzaumjaypw.supabase.co/rest/v1/Produkt";
  const key = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFsZWhvdGR0anViemF1bWpheXB3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMwMTkwMzUsImV4cCI6MjA3ODU5NTAzNX0.n-6jAPy7oVztz5tFcyivZeVTbDQekQJn1ZfIXEqRZIE";

  const options = {
    headers: {
      apikey: key,
    },
  };

  const supaRequest = await fetch(url, options);
  const supaData = await supaRequest.json();

  return data.map((plan) => {
    return {
      params: { slug: plan.slug },
      props: { plan },
    };
  });
}

const { plan } = Astro.props;
---

<article>
  <h1>{plan.title} {plan.overskrift}</h1>
  <p>{plan.underoverskrift}</p>
</article>
